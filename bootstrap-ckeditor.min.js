angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/ckeditor/ckeditor.html",'<div class="form-group {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div class="{{ form.fieldWrapperHtmlClass }}"><textarea ng-show="form.key" style="background-color: white" type="text" class="form-control" schema-validate="form" ng-model="$$value$$" ckeditor="form.ckeditor"></textarea> <span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div></div>')}]),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,r,o){var t=function(r,t,a){if("string"===t.type&&"ckeditor"===t.format){var s=e.stdFormObj(r,t,a);return s.key=a.path,s.type="ckeditor",a.lookup[o.stringify(a.path)]=s,s}};e.defaults.string.unshift(t),r.addMapping("bootstrapDecorator","ckeditor","directives/decorators/bootstrap/ckeditor/ckeditor.html"),r.createDirective("ckeditor","directives/decorators/bootstrap/ckeditor/ckeditor.html")}]),function(e,r){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(e){return r(e)}):r(e)}(angular||null,function(e){var r,o=e.module("schemaForm"),t=!1;return o.run(["$q","$timeout",function(o,a){function s(){"loaded"==CKEDITOR.status?(t=!0,r.resolve()):s()}if(r=o.defer(),e.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",s),a(s,100)}]),o.directive("ckeditor",["$timeout","$q",function(o,a){"use strict";return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(s,i,n,c){var l=c[0],d=c[1]||null,u="<p></p>",f="textarea"==i[0].tagName.toLowerCase(),m=[],h=!1;f||i.attr("contenteditable",!0);var p=function(){var r={toolbar:"full",disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"};if(n.ckeditor){var t=s.$eval(n.ckeditor);r=e.extend(r,t)}var c=f?CKEDITOR.replace(i[0],r):CKEDITOR.inline(i[0],r),p=a.defer();i.bind("$destroy",function(){c.destroy(!1)});var v=function(e){var r=c.getData();""==r&&(r=null),o(function(){(e!==!0||r!=l.$viewValue)&&l.$setViewValue(r),e===!0&&d&&d.$setPristine()},0)},k=function(e){if(m.length){var r=m.pop()||u;h=!1,c.setData(r,function(){v(e),h=!0})}};c.on("change",v),c.on("blur",v),c.on("instanceReady",function(){s.$broadcast("ckeditor.ready"),s.$apply(function(){k(!0)}),c.document.on("keyup",v)}),c.on("customConfigLoaded",function(){p.resolve()}),l.$render=function(){m.push(l.$viewValue),h&&k()}};"loaded"==CKEDITOR.status&&(t=!0),t?p():r.promise.then(p)}}}]),o});